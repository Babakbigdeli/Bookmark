(this.webpackJsonpbookmark=this.webpackJsonpbookmark||[]).push([[0],{148:function(e,t,n){},170:function(e,t,n){},171:function(e,t,n){},173:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n.n(c),r=n(28),a=n.n(r),i=n(66),o=n(10),l=n(62),j=n(188),u=n(190),d=n(21),b=n(1),h=function(){var e=Object(d.b)(),t=e.loginWithRedirect;return!e.isAuthenticated&&Object(b.jsx)("div",{children:Object(b.jsx)("button",{className:"loginButton",onClick:function(){return t()},children:"Log In"})})},O=function(){var e=Object(d.b)(),t=e.logout;return e.isAuthenticated&&Object(b.jsx)("div",{className:"loginButton",children:Object(b.jsxs)("button",{className:"loginButton",onClick:function(){return t()},children:[" ","Log Out"]})})};var x=function(){return Object(b.jsx)("div",{className:"navbar",children:Object(b.jsxs)(j.a,{bg:"light",variant:"light",children:[Object(b.jsx)(j.a.Brand,{href:"/",children:"BOOKMARK"}),Object(b.jsxs)(u.a,{className:"mr-auto",children:[Object(b.jsx)(u.a.Link,{children:Object(b.jsx)(i.b,{to:"/",children:"Home"})}),Object(b.jsxs)(u.a.Link,{children:[Object(b.jsx)(i.b,{to:"/userpage",children:"User Page"})," "]})]}),Object(b.jsx)(h,{}),Object(b.jsx)(O,{})]})})};n(148);var f=function(e){var t=e.q,n=e.handleChange,c=e.handleSubmit;return Object(b.jsx)("div",{id:"cover",children:Object(b.jsx)("form",{method:"get",action:"",children:Object(b.jsxs)("div",{class:"tb",children:[Object(b.jsx)("div",{class:"td",children:Object(b.jsx)("input",{type:"text",placeholder:"Search",required:!0,value:t,onChange:n})}),Object(b.jsx)("div",{class:"td",id:"s-cover",children:Object(b.jsxs)("button",{onClick:c,type:"submit",children:[Object(b.jsx)("div",{id:"s-circle"}),Object(b.jsx)("span",{})]})})]})})})},m=n(192),g=n(189);var v=function(e){var t=e.image,n=e.title,c=e.authors,s=e.number_of_pages,r=e.language,a=e.PastButton,i=e.PresentButton,o=e.FutureButton;return Object(b.jsxs)("div",{children:[Object(b.jsx)("hr",{}),Object(b.jsxs)(m.a,{children:[Object(b.jsxs)(m.a.Content,{children:[Object(b.jsx)(m.a.Header,{children:n}),Object(b.jsx)(g.a,{floated:"left",src:t}),Object(b.jsxs)(m.a.Description,{children:["Author : ",c]}),Object(b.jsxs)(m.a.Description,{children:["Number Of Pages : ",s]}),Object(b.jsxs)(m.a.Description,{children:["Language : ",r]})]}),Object(b.jsxs)(m.a.Content,{children:[Object(b.jsx)(o,{})," ",Object(b.jsx)(i,{})," ",Object(b.jsx)(a,{})]})]}),Object(b.jsx)("hr",{})]})},p=n(99),k=n.n(p),C=n(120),y=n(37),I=n(38),N=n(42),_=n(41),w=n(191),B=n(100),D=function(e){Object(N.a)(n,e);var t=Object(_.a)(n);function n(){var e;Object(y.a)(this,n);for(var c=arguments.length,s=new Array(c),r=0;r<c;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={loading:!0,news:null},e}return Object(I.a)(n,[{key:"componentDidMount",value:function(){var e=Object(C.a)(k.a.mark((function e(){var t,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://content.guardianapis.com/search?q=books&api-key=ea5c2603-5999-43b3-8ddf-e3db33f0592d",e.next=3,fetch("https://content.guardianapis.com/search?q=books&api-key=ea5c2603-5999-43b3-8ddf-e3db33f0592d");case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,console.log(n),this.setState({news:n.response.results.splice(5,10),loading:!1});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(b.jsx)(w.a.Event,{children:Object(b.jsxs)(w.a,{children:[Object(b.jsxs)(w.a.Label,{children:[Object(b.jsx)(B.a,{name:"newspaper"}),Object(b.jsx)("bold",{children:"NEWS FEED"})]}),Object(b.jsx)(w.a.Content,{children:Object(b.jsx)(w.a.Summary,{children:this.state.loading||!this.state.news?Object(b.jsx)("div",{children:"loading..."}):this.state.news.map((function(e){return Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{children:e.webTitle}),Object(b.jsx)("a",{href:e.webUrl,target:"blank",children:"link to article"})]})}))})})]})})}}]),n}(s.a.Component),P=function(){return Object(b.jsx)("div",{className:"banner",children:Object(b.jsx)("p",{className:"movingtext",children:Object(b.jsx)("span",{children:"If you love books, you'll love Bookmark. Here you can search for books, save them into categories and keep track of your progress."})})})},S=(n(152),function(){return Object(b.jsxs)("div",{className:"footer",children:[Object(b.jsx)("p",{children:"\xa9 The Travelling Coders 2021"}),Object(b.jsx)("p",{children:"Babak, Tracey & Omayma"})]})}),R=n(194),T=n(65),A=n.n(T),E=function(e){return console.log("Called findBooks"),A.a.get("/googlebooks/",{params:{q:"title:"+e}})},F=function(e){return A.a.post("/books/",e)},K=function(){return A.a.get("/books/")},L=function(e){return A.a.delete("/books/"+e)},U=function(e,t){return A.a.put("/books/"+t,e)};n(170);var H=function(e){var t=e.image,n=e.title,c=e.authors,s=e.number_of_pages,r=e.language;return Object(b.jsxs)("div",{children:[Object(b.jsx)("hr",{}),Object(b.jsx)(m.a,{children:Object(b.jsxs)(m.a.Content,{children:[Object(b.jsx)(m.a.Header,{children:n}),Object(b.jsx)(g.a,{floated:"left",src:t}),Object(b.jsxs)(m.a.Description,{children:["Author : ",c]}),Object(b.jsxs)(m.a.Description,{children:["Number Of Pages : ",s]}),Object(b.jsxs)(m.a.Description,{children:["Language : ",r]})]})}),Object(b.jsx)("hr",{})]})};var Y=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)(""),a=Object(l.a)(r,2),i=a[0],o=a[1],j=Object(d.b)().user,u=function(){E(i).then((function(e){console.log(j),console.log(e.data),s(e.data.splice(0,5))}))},h=function(e){e.preventDefault(),u()},O=function(e){o(e.target.value)},m=function(e,t){var c=n.find((function(e){return e.id===t}));console.log(c),F({id:c.id,title:c.volumeInfo.title,authors:c.volumeInfo.authors,description:c.volumeInfo.description,number_of_pages:c.volumeInfo.pageCount,language:c.volumeInfo.language,subKey:j.sub,status:e,image:c.volumeInfo.imageLinks.thumbnail}).then((function(){return u()})).catch((function(e){throw new Error(e)}))};return void 0!==j?Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"body",children:[Object(b.jsx)(x,{}),Object(b.jsxs)(R.a,{divided:"vertically",children:[Object(b.jsx)(R.a.Row,{columns:1,children:Object(b.jsxs)(R.a.Column,{children:[Object(b.jsx)("hr",{}),Object(b.jsx)(P,{})]})}),Object(b.jsxs)(R.a.Row,{columns:2,children:[Object(b.jsxs)(R.a.Column,{children:[Object(b.jsx)("hr",{}),Object(b.jsx)("hr",{}),Object(b.jsx)(f,{q:i,handleChange:O,handleSubmit:h}),Object(b.jsx)("ul",{children:n.length?n.map((function(e){return Object(b.jsx)(v,{id:e.id,title:e.volumeInfo.title,authors:e.volumeInfo.authors.join(", "),image:e.volumeInfo.imageLinks.thumbnail,number_of_pages:e.volumeInfo.pageCount,language:e.volumeInfo.language,FutureButton:function(){return Object(b.jsx)("button",{className:"wantButton",value:"future",onClick:function(t){return m(t.target.value,e.id)},children:"Save to Want to Read"})},PresentButton:function(){return Object(b.jsx)("button",{className:"currentlyButton",value:"present",onClick:function(t){return m(t.target.value,e.id)},children:"Save to Currently Reading"})},PastButton:function(){return Object(b.jsx)("button",{className:"historyButton",value:"past",onClick:function(t){return m(t.target.value,e.id)},children:"Save to History"})}})})):Object(b.jsx)("div",{className:"bookfindsent",children:Object(b.jsx)("p",{children:"FIND YOUR BOOK & BEGIN YOUR BOOKMARKING JOURNEY"})})})]}),Object(b.jsx)(R.a.Column,{children:Object(b.jsx)(D,{})})]}),Object(b.jsx)(S,{})]})]})}):Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"body",children:[Object(b.jsx)(x,{}),Object(b.jsx)("h1",{children:"Please sign up and/or login in order to save the books!"}),Object(b.jsxs)(R.a,{divided:"vertically",children:[Object(b.jsx)(R.a.Row,{columns:1,children:Object(b.jsxs)(R.a.Column,{children:[Object(b.jsx)("hr",{}),Object(b.jsx)(P,{})]})}),Object(b.jsxs)(R.a.Row,{columns:2,children:[Object(b.jsxs)(R.a.Column,{children:[Object(b.jsx)("hr",{}),Object(b.jsx)("hr",{}),Object(b.jsx)(f,{q:i,handleChange:O,handleSubmit:h}),Object(b.jsx)("ul",{children:n.length?n.map((function(e){return Object(b.jsx)(H,{id:e.id,title:e.volumeInfo.title,authors:e.volumeInfo.authors.join(", "),image:e.volumeInfo.imageLinks.thumbnail,number_of_pages:e.volumeInfo.pageCount,language:e.volumeInfo.language})})):Object(b.jsx)("div",{className:"bookfindsent",children:Object(b.jsx)("p",{children:"FIND YOUR BOOK & BEGIN YOUR BOOKMARKING JOURNEY"})})})]}),Object(b.jsx)(R.a.Column,{children:Object(b.jsx)(D,{})})]}),Object(b.jsx)(S,{})]})]})})};var q=function(){return Object(b.jsxs)(w.a,{children:[Object(b.jsx)(w.a.Event,{icon:"pencil",date:"Today",summary:"You added The Girl On The Train to History."}),Object(b.jsxs)(w.a.Event,{children:[Object(b.jsx)(w.a.Label,{icon:"pencil"}),Object(b.jsx)(w.a.Content,{date:"Today",summary:"You added Harry Potter to your Want to Read."})]})]})},G=n(187),W=n(195),J=n(193),M=function(e){Object(N.a)(n,e);var t=Object(_.a)(n);function n(e){var c;return Object(y.a)(this,n),(c=t.call(this,e)).state={activeIndex:0},c.refreshPage=function(){window.location.reload()},c.handleDelete=function(e){L(e).then((function(){c.refreshPage()}))},c.handleClick=function(e,t){var n=t.index,s=c.state.activeIndex===n?-1:n;c.setState({activeIndex:s})},c.props=e,c}return Object(I.a)(n,[{key:"render",value:function(){var e=this,t=this.state.activeIndex;return Object(b.jsxs)(G.a,{children:[Object(b.jsx)(W.a,{as:"h4",color:"olive",children:"History"}),Object(b.jsx)(J.a,{fluid:!0,styled:!0,children:this.props.books.map((function(n,c){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(J.a.Title,{active:t===c,index:c,onClick:e.handleClick,children:[Object(b.jsx)(B.a,{name:"dropdown",color:"olive"}),n.title]}),Object(b.jsxs)(J.a.Content,{active:t===c,children:[Object(b.jsxs)("p",{children:["Author(s): ",n.authors]}),Object(b.jsxs)("p",{children:["Number Of Pages: ",n.number_of_pages]}),Object(b.jsx)("button",{class:"deletebutton",onClick:function(){return e.handleDelete(n._id)},children:"Delete"})]})]})}))})]})}}]),n}(c.Component),Q=function(e){Object(N.a)(n,e);var t=Object(_.a)(n);function n(e){var c;return Object(y.a)(this,n),(c=t.call(this,e)).state={activeIndex:0},c.handleClick=function(e,t){var n=t.index,s=c.state.activeIndex===n?-1:n;c.setState({activeIndex:s})},c.refreshPage=function(){window.location.reload()},c.handleUpdate=function(e){var t=c.props.books.find((function(t){return t._id===e}));console.log(t),console.log(e),U({id:t.id,title:t.title,authors:t.authors,description:t.description,number_of_pages:t.number_of_pages,language:t.language,subKey:t.subKey,status:"past",image:t.image},e).then((function(){return c.refreshPage()}))},c.handleDelete=function(e){L(e).then((function(){c.refreshPage()}))},c.props=e,c}return Object(I.a)(n,[{key:"render",value:function(){var e=this,t=this.state.activeIndex;return Object(b.jsxs)(G.a,{children:[Object(b.jsx)(W.a,{as:"h4",color:"red",children:"Currently"}),Object(b.jsx)(J.a,{fluid:!0,styled:!0,children:this.props.books.map((function(n,c){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(J.a.Title,{active:t===c,index:c,onClick:e.handleClick,children:[Object(b.jsx)(B.a,{name:"dropdown",color:"red"}),n.title]}),Object(b.jsxs)(J.a.Content,{active:t===c,children:[Object(b.jsxs)("p",{children:["Author: ",n.authors]}),Object(b.jsxs)("p",{children:["Number Of Pages: ",n.number_of_pages]}),Object(b.jsx)("button",{class:"updatetohistory",onClick:function(){return e.handleUpdate(n._id)},children:"Send to History"}),Object(b.jsx)("button",{class:"deletebutton",onClick:function(){return e.handleDelete(n._id)},children:"Delete"})]})]})}))})]})}}]),n}(c.Component),V=function(e){Object(N.a)(n,e);var t=Object(_.a)(n);function n(e){var c;return Object(y.a)(this,n),(c=t.call(this,e)).state={activeIndex:0},c.refreshPage=function(){window.location.reload()},c.handleDelete=function(e){L(e).then((function(){c.refreshPage()}))},c.handleUpdate=function(e){var t=c.props.books.find((function(t){return t._id===e}));console.log(t),console.log(e),U({id:t.id,title:t.title,authors:t.authors,description:t.description,number_of_pages:t.number_of_pages,language:t.language,subKey:t.subKey,status:"present",image:t.image},e).then((function(){return c.refreshPage()}))},c.handleClick=function(e,t){var n=t.index,s=c.state.activeIndex===n?-1:n;c.setState({activeIndex:s})},c.props=e,c}return Object(I.a)(n,[{key:"render",value:function(){var e=this,t=this.state.activeIndex;return Object(b.jsxs)(G.a,{children:[Object(b.jsx)(W.a,{as:"h4",color:"purple",children:"Want To Read"}),Object(b.jsx)(J.a,{fluid:!0,styled:!0,children:this.props.books.map((function(n,c){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(J.a.Title,{active:t===c,index:c,onClick:e.handleClick,children:[Object(b.jsx)(B.a,{name:"dropdown",color:"purple"}),n.title]}),Object(b.jsxs)(J.a.Content,{active:t===c,children:[Object(b.jsxs)("p",{children:["Author(s): ",n.authors]}),Object(b.jsxs)("p",{children:["Number Of Pages: ",n.number_of_pages]}),Object(b.jsx)("button",{class:"updatetocurrently",onClick:function(){return e.handleUpdate(n._id)},children:"Send to Currently"}),Object(b.jsx)("button",{class:"deletebutton",onClick:function(){return e.handleDelete(n._id)},children:"Delete"})]})]})}))})]})}}]),n}(c.Component),z=(n(171),n(196)),X=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)(!0),a=Object(l.a)(r,2),i=a[0],o=a[1],j=Object(d.b)().user;return Object(c.useEffect)((function(){K().then((function(e){console.log(e);var t=[];void 0!==j&&(t=e.data.filter((function(e){return e.subKey===j.sub}))),console.log(t),s(t),o(!1)}))}),[j]),void 0===j?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(x,{}),Object(b.jsx)("h1",{children:"No user found, please sign up and/or login"})]}):i?Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("h3",{children:"Loading..."})}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(x,{}),Object(b.jsx)(z.a,{children:Object(b.jsxs)(R.a,{columns:4,relaxed:"very",children:[Object(b.jsx)(R.a.Column,{children:Object(b.jsx)(V,{books:n.filter((function(e){return"future"===e.status}))})}),Object(b.jsx)(R.a.Column,{children:Object(b.jsx)(Q,{books:n.filter((function(e){return"present"===e.status}))})}),Object(b.jsx)(R.a.Column,{children:Object(b.jsx)(M,{books:n.filter((function(e){return"past"===e.status}))})}),Object(b.jsx)(R.a.Column,{children:Object(b.jsx)(q,{})}),Object(b.jsx)(S,{})]})})]})};var Z=function(){var e=Object(d.b)(),t=e.isLoading,n=e.user;return t?Object(b.jsx)("div",{children:"Loading..."}):Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(i.a,{children:Object(b.jsxs)("div",{children:[Object(b.jsx)(o.a,{exact:!0,path:"/",component:function(){return Object(b.jsx)(Y,{email:n?n.email:""})}}),Object(b.jsx)(o.a,{exact:!0,path:"/userpage",component:function(){return Object(b.jsx)(X,{email:n?n.email:""})}}),Object(b.jsx)(o.a,{exact:!0,path:"/auth0",component:d.b})]})})})};n(172);a.a.render(Object(b.jsx)(d.a,{domain:"dev-amxlnt6h.eu.auth0.com",clientId:"uB3sbTrONAF3b2gUAicTEQ3Ggmfi61VG",redirectUri:window.location.origin,children:Object(b.jsx)(Z,{})}),document.getElementById("root"))}},[[173,1,2]]]);
//# sourceMappingURL=main.ec4b9e7a.chunk.js.map